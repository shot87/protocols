{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap bd1118389e1300c6555d","webpack:///./src/index.js"],"names":["ArbitraryPromise","passReceivePairs","_validatePassReceivePairs","Error","_createState","forEach","_processPassReceivePair","bind","_resetState","_state","Object","keys","stateKey","pair","pass","receive","handlerKey","handler","args","push","isArray","Array","hasSomeEntries","length","isTuples","every","areStrings","module","exports"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;;;;;;;;;KCtCMA,gB;AACJ,6BAAYC,gBAAZ,EAA8B;AAAA;;AAC5B,SAAI,CAAC,KAAKC,yBAAL,CAA+BD,gBAA/B,CAAL,EACE,MAAM,IAAIE,KAAJ,CAAU,4EAAV,CAAN;;AAEF,UAAKC,YAAL;;AAEAH,sBAAiBI,OAAjB,CAAyB,KAAKC,uBAAL,CAA6BC,IAA7B,CAAkC,IAAlC,CAAzB;AACD;;AAED;AACA;;;;;6BACQ;AACN,YAAKC,WAAL;AACD;;;oCAEc;AACb,YAAKC,MAAL,GAAc,EAAd;AACD;;;mCAEa;AAAA;;AACZC,cAAOC,IAAP,CAAY,KAAKF,MAAjB,EAAyBJ,OAAzB,CAAiC,oBAAY;AAC3C,eAAKI,MAAL,CAAYG,QAAZ,IAAwB,EAAxB;AACD,QAFD;AAGD;;;6CAEuBC,I,EAAM;AAAA;;AAAA,kCACFA,IADE;AAAA,WACpBC,IADoB;AAAA,WACdC,OADc;;AAG5B,WAAMH,WAAW,aAAaE,IAA9B;AACA,WAAME,aAAa,eAAeD,OAAlC;;AAEA;AACA,YAAKN,MAAL,CAAYG,QAAZ,IAAwB,EAAxB;;AAEA,YAAKG,OAAL,IAAgB,UAACE,OAAD,EAAa;AAC3B;AACA,gBAAKD,UAAL,IAAmBC,OAAnB;;AAEA;AACA,gBAAKR,MAAL,CAAYG,QAAZ,EAAsBP,OAAtB,CAA8B;AAAA,kBAAQY,4CAAWC,IAAX,EAAR;AAAA,UAA9B;;AAEA;AACA,gBAAO,MAAP;AACD,QATD;;AAWA,YAAKJ,IAAL,IAAa,YAAa;AAAA,2CAATI,IAAS;AAATA,eAAS;AAAA;;AACxB;AACA,gBAAKT,MAAL,CAAYG,QAAZ,EAAsBO,IAAtB,CAA2BD,IAA3B;;AAEA;AACA,gBAAKF,UAAL,KAAoB,OAAKA,UAAL,gBAAoBE,IAApB,CAApB;;AAEA;AACA,gBAAO,MAAP;AACD,QATD;AAWD;;;+CAEyBjB,gB,EAAkB;AAC1C,WAAMmB,UAAUC,MAAMD,OAAN,CAAcnB,gBAAd,CAAhB;AACA,WAAI,CAACmB,OAAL,EAAc,OAAO,KAAP;;AAEd,WAAME,iBAAiBrB,iBAAiBsB,MAAjB,IAA2B,CAAlD;AACA,WAAI,CAACD,cAAL,EAAqB,OAAO,KAAP;;AAErB,WAAME,WAAWvB,iBAAiBwB,KAAjB,CAAuB,gBAAQ;AAC9C,gBAAOZ,KAAKU,MAAL,KAAgB,CAAvB;AACD,QAFgB,CAAjB;AAGA,WAAI,CAACC,QAAL,EAAe,OAAO,KAAP;;AAEf,WAAME,aAAazB,iBAAiBwB,KAAjB,CAAuB,gBAAQ;AAChD,gBAAO,OAAOZ,KAAK,CAAL,CAAP,KAAmB,QAAnB,IACA,OAAOA,KAAK,CAAL,CAAP,KAAmB,QAD1B;AAED,QAHkB,CAAnB;AAIA,WAAI,CAACa,UAAL,EAAiB,OAAO,KAAP;;AAEjB,cAAO,IAAP;AACD;;;;;;AAGHC,QAAOC,OAAP,GAAiB5B,gBAAjB,C","file":"arbitrary-promise.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"arbitraryPromise\"] = factory();\n\telse\n\t\troot[\"arbitraryPromise\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap bd1118389e1300c6555d","class ArbitraryPromise {\n  constructor(passReceivePairs) {\n    if (!this._validatePassReceivePairs(passReceivePairs))\n      throw new Error(\"must pass in tuples of function names like [['handleData', 'onData'], ...]\")\n\n    this._createState()\n\n    passReceivePairs.forEach(this._processPassReceivePair.bind(this))\n  }\n\n  // Remove all state. Useful for applications making heavy repeated use\n  // of single promises.\n  clear() {\n    this._resetState()\n  }\n\n  _createState() {\n    this._state = {}\n  }\n\n  _resetState() {\n    Object.keys(this._state).forEach(stateKey => {\n      this._state[stateKey] = []\n    })\n  }\n\n  _processPassReceivePair(pair) {\n    const [ pass, receive ] = pair\n\n    const stateKey = '__state_' + pass\n    const handlerKey = '__handler_' + receive\n\n    // This will contain the data from every pass call\n    this._state[stateKey] = []\n\n    this[receive] = (handler) => {\n      // set local handler for pass funk to call\n      this[handlerKey] = handler\n\n      // Get all data previously called from pass funk\n      this._state[stateKey].forEach(args => handler(...args))\n\n      // return this for chaining\n      return this\n    }\n\n    this[pass] = (...args) => {\n      // Save data for future receive assignments to get\n      this._state[stateKey].push(args)\n\n      // Call receive function with data\n      this[handlerKey] && this[handlerKey](...args)\n\n      // return this for chaining\n      return this\n    }\n\n  }\n\n  _validatePassReceivePairs(passReceivePairs) {\n    const isArray = Array.isArray(passReceivePairs)\n    if (!isArray) return false\n\n    const hasSomeEntries = passReceivePairs.length >= 1\n    if (!hasSomeEntries) return false\n\n    const isTuples = passReceivePairs.every(pair => {\n      return pair.length === 2\n    })\n    if (!isTuples) return false\n\n    const areStrings = passReceivePairs.every(pair => {\n      return typeof pair[0] === 'string' &&\n             typeof pair[1] === 'string'\n    })\n    if (!areStrings) return false\n\n    return true\n  }\n}\n\nmodule.exports = ArbitraryPromise\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js"],"sourceRoot":""}